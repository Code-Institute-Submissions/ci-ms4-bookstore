{% load static %}

<!doctype html>
<html lang="en">
  <head>

    {% block meta %}
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {% endblock %}

    {% block extra_meta %}
    {% endblock %}
    {% block corecss %}
        <!-- Font Awesome CDN-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" integrity="sha384-vp86vTRFVJgpjF9jiIGPEEqYqlDwgyBgEF109VFjmqGmIY/Y4HV4d3Gp2irVfcrp" crossorigin="anonymous">
        <!-- Bootstrap CSS-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato&display=swap">
        <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% endblock %}

    {% block corejs %}    
    <!-- Self-provisioning my own hosted jQuery, due to the slim version from the CDN not providing AJAX/Effects-->
    <script src="{% static 'js/plugins/jquery-3.5.1.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script src="https://js.stripe.com/v3/"></script>
    {% endblock %}

    {% block extra_css %}
    <!-- CSS for plugins-->
    <link rel="stylesheet" href="{% static 'css/plugins/owl.carousel.min.css' %}" />
    {% endblock %}
    <title>Bibliomania</title> <!-- Add custom titles for each view later -->
  </head>
  <body>

<!-- Based in part on the course-materials for Boutique Ado. -->
    {% if messages %}
        <div class="message-container">
            {% for message in messages %}
                {% with message.level as level %}
                    {% if level == 40 %}
                        {% include 'includes/toasts/toast_error.html' %}
                    {% elif level == 30 %}
                        {% include 'includes/toasts/toast_warning.html' %}
                    {% elif level == 25 %}
                        {% include 'includes/toasts/toast_success.html' %}
                    {% else %}
                        {% include 'includes/toasts/toast_info.html' %}
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </div>
    {% endif %}
 
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <h3><a class="navbar-brand" href="{% url 'home' %}">Bibliomania</a></h3>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item dropdown mr-3 text-right">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Menu
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink"> 
                        <a class="dropdown-item" href="{% url 'home' %}">Home</a>
                        <a class="dropdown-item" href="{% url 'archive' %}">News archive</a>
                        {% if request.user.is_authenticated %}
                        <a class="dropdown-item" href="{% url 'account_logout' %}">Logout</a>
                        {% else %}
                        <a class="dropdown-item" href="{% url 'account_login' %}">Login</a>
                        {% endif %}
                        <a class="dropdown-item" href="{% url 'shopping_bag' %}">Shopping bag</a>
                    </div>
                  </li>
            </ul>
            <form method="GET" class="form-inline d-none d-md-block" action="{% url 'products' %}">
              <input class="form-control mr-sm-2"  name="q" type="text" placeholder="Search for books ..." aria-label="Search">
              <button class="btn btn-outline-dark my-2 my-sm-0" type="submit">Search</button>
            </form>
            </div>
          </nav>
    </header>

    {% block page_header %}
    {% endblock %}

    {% block content %}
    {% endblock %}

    
    <footer class="bg-light mt-auto">
        <div class="justify-content-center">
        <strong><p class="text-center">Copyright 2020 Patrik Schöön-Axelsson. This site is a tech-demo. All books and cover-art referenced are the property of their individual owner. If you are the copyright owner of any item or image referenced on this page and wish it removed, please click here to submit a takedown-request.</p></strong>
        </div>
    </footer>
    {% block postloadjs %}
    <!--  Activates the jQuery Owl-Carousel plugin, documentation available: https://owlcarousel2.github.io/OwlCarousel2/docs/started-welcome.html -->
    <script src="{% static 'js/plugins/owl.carousel.min.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/main.js' %}"></script>
    {% endblock %}

    {% block extra_js %}
    {% endblock %}
  </body>
</html>